components:
  parameters:
    uidAuthFleet:
      name: x-pagopa-pn-uid
      in: header
      description: User Identifier
      required: true
      schema:
        type: string
        # ASCII printable characters
        pattern: ^[ -~]*$
        maxLength: 64
    cxTypeAuthFleet:
      name: x-pagopa-pn-cx-type
      in: header
      description: Customer/Receiver Type
      required: true
      schema:
        $ref: '#/components/schemas/CxTypeAuthFleet'
    cxIdAuthFleet:
      name: x-pagopa-pn-cx-id
      in: header
      description: Customer/Receiver Identifier
      required: true
      schema:
        type: string
        # ASCII printable characters
        pattern: ^[ -~]*$
        maxLength: 64
    cxGroupsAuthFleet:
      name: x-pagopa-pn-cx-groups
      in: header
      description: Customer Groups
      required: false
      schema:
        type: array
        items:
          type: string
          # ASCII printable characters
          pattern: ^[ -~]*$
          maxLength: 1024
    cxTaxIdAuthFleet:
      name: x-pagopa-cx-taxid
      in: header
      description: Customer taxId, used in B2B AppIO.
      required: false # updated to false due to new lollipop headers 
      schema:
        type: string
        minLength: 16
        maxLength: 16
        pattern: '^[A-Z]{6}[0-9LMNPQRSTUV]{2}[A-Z]{1}[0-9LMNPQRSTUV]{2}[A-Z]{1}[0-9LMNPQRSTUV]{3}[A-Z]{1}'
    cxRoleAuthFleet:
      name: x-pagopa-pn-cx-role
      in: header
      description: User role
      required: true
      schema:
        type: string
        # ASCII printable characters
        pattern: ^[ -~]*$
        maxLength: 64
  schemas:
    CxTypeAuthFleet:
      type: string
      enum:
        - 'PA'
        - 'PF'
        - 'PG'
